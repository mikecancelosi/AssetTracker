<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:model="clr-namespace:AssetTracker.Model">

    <ControlTemplate x:Key="ReplyToDiscussion"
                     TargetType="{x:Type Control}">
        <Border BorderBrush="White" BorderThickness="2" CornerRadius="5" Background="LightGray">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="12*" />
            </Grid.ColumnDefinitions>
            <Image Source="\Images\MaterialDesign\baseline_account_circle_white_48dp.png"
                   Height="40"
                   Margin="0,15" />
            <TextBox x:Name="NewDiscussionReply"
                     Text="Start a new discussion.."
                     Margin="0,20,60,20"
                     Grid.Column="1"
                     VerticalContentAlignment="Center"
                     HorizontalContentAlignment="Stretch" />
            <Button Grid.Column="1"
                    Height="40"
                    Background="Transparent"
                    Width="40"
                    HorizontalAlignment="Right"
                    Margin="10"
                    BorderThickness="0">
                <Image Source="\Images\MaterialDesign\baseline_send_white_48dp.png" />
            </Button>
        </Grid>
        </Border>

    </ControlTemplate>

    <DataTemplate DataType="{x:Type model:Discussion}"
                  x:Key="DiscussionItem">
        <Grid Margin="0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"
                                  MaxWidth="50" />
                <ColumnDefinition Width="10*" />
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0"
                  VerticalAlignment="Top">
                <Image Source="/Images/MaterialDesign/baseline_account_circle_white_48dp.png"
                       Width="40" />
            </Grid>

            <StackPanel Orientation="Vertical"
                        Grid.Column="1">
                <Grid x:Name="ReplyHeader"
                      Margin="0,5">
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center">

                        <TextBlock Text="User Name"
                                   Margin="0,0,5,0"
                                   FontSize="16"
                                   FontWeight="SemiBold" />

                        <TextBlock Text="5m"
                                   VerticalAlignment="Center"
                                   Foreground="LightGray" />

                    </StackPanel>

                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Right">
                        <StackPanel.Resources>
                            <Style TargetType="Button">
                                <Setter Property="Width"
                                        Value="24" />
                                <Setter Property="Height"
                                        Value="24" />
                                <Setter Property="Margin"
                                        Value="2,5" />
                                <Setter Property="Background"
                                        Value="Transparent" />
                            </Style>
                        </StackPanel.Resources>

                        <Button>
                            <Image Source="/Images/MaterialDesign/baseline_add_reaction_white_24dp.png" />
                        </Button>

                        <Button>
                            <Image Source="/Images/MaterialDesign/baseline_reply_white_24dp.png" />
                        </Button>

                        <Button>
                            <Image Source="/Images/MaterialDesign/baseline_edit_white_48dp.png" />
                        </Button>

                        <Button>
                            <Image Source="/Images/MaterialDesign/baseline_more_vert_white_48dp.png" />
                        </Button>


                    </StackPanel>
                </Grid>
                <StackPanel Orientation="Vertical">
                    <TextBox Text="{Binding di_contents}"
                             Background="Transparent"
                             Margin="0,10"
                             Padding="0,10" />                    
                    <ItemsControl ItemsSource="{Binding Children}">
                    </ItemsControl>
                </StackPanel>
                <Control Template="{StaticResource ResourceKey=ReplyToDiscussion}" />
            </StackPanel>
        </Grid>
    </DataTemplate>

   

</ResourceDictionary>